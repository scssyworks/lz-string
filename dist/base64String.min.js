!function(r,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):r.Base64String=e()}(this,function(){"use strict";function d(r){throw new Error('"'+r+'" is read-only')}var f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";return{compressToUTF16:function(r){var e,a,o=[],h=0;r=this.compress(r);for(var t=0;t<r.length;t++)switch(e=r.charCodeAt(t),h++){case 0:o.push(String.fromCharCode(32+(e>>1))),a=(1&e)<<14;break;case 1:o.push(String.fromCharCode(a+(e>>2)+32)),a=(3&e)<<13;break;case 2:o.push(String.fromCharCode(a+(e>>3)+32)),a=(7&e)<<12;break;case 3:o.push(String.fromCharCode(a+(e>>4)+32)),a=(15&e)<<11;break;case 4:o.push(String.fromCharCode(a+(e>>5)+32)),a=(31&e)<<10;break;case 5:o.push(String.fromCharCode(a+(e>>6)+32)),a=(63&e)<<9;break;case 6:o.push(String.fromCharCode(a+(e>>7)+32)),a=(127&e)<<8;break;case 7:o.push(String.fromCharCode(a+(e>>8)+32)),a=(255&e)<<7;break;case 8:o.push(String.fromCharCode(a+(e>>9)+32)),a=(511&e)<<6;break;case 9:o.push(String.fromCharCode(a+(e>>10)+32)),a=(1023&e)<<5;break;case 10:o.push(String.fromCharCode(a+(e>>11)+32)),a=(2047&e)<<4;break;case 11:o.push(String.fromCharCode(a+(e>>12)+32)),a=(4095&e)<<3;break;case 12:o.push(String.fromCharCode(a+(e>>13)+32)),a=(8191&e)<<2;break;case 13:o.push(String.fromCharCode(a+(e>>14)+32)),a=(16383&e)<<1;break;case 14:o.push(String.fromCharCode(a+(e>>15)+32,32+(32767&e))),h=0}return o.push(String.fromCharCode(a+32)),o.join("")},decompressFromUTF16:function(r){for(var e,a,o=[],h=0,t=0;t<r.length;){switch(a=r.charCodeAt(t)-32,h++){case 0:e=a<<1;break;case 1:o.push(String.fromCharCode(e|a>>14)),e=(16383&a)<<2;break;case 2:o.push(String.fromCharCode(e|a>>13)),e=(8191&a)<<3;break;case 3:o.push(String.fromCharCode(e|a>>12)),e=(4095&a)<<4;break;case 4:o.push(String.fromCharCode(e|a>>11)),e=(2047&a)<<5;break;case 5:o.push(String.fromCharCode(e|a>>10)),e=(1023&a)<<6;break;case 6:o.push(String.fromCharCode(e|a>>9)),e=(511&a)<<7;break;case 7:o.push(String.fromCharCode(e|a>>8)),e=(255&a)<<8;break;case 8:o.push(String.fromCharCode(e|a>>7)),e=(127&a)<<9;break;case 9:o.push(String.fromCharCode(e|a>>6)),e=(63&a)<<10;break;case 10:o.push(String.fromCharCode(e|a>>5)),e=(31&a)<<11;break;case 11:o.push(String.fromCharCode(e|a>>4)),e=(15&a)<<12;break;case 12:o.push(String.fromCharCode(e|a>>3)),e=(7&a)<<13;break;case 13:o.push(String.fromCharCode(e|a>>2)),e=(3&a)<<14;break;case 14:o.push(String.fromCharCode(e|a>>1)),e=(1&a)<<15;break;case 15:o.push(String.fromCharCode(e|a)),h=0}t++}return this.decompress(o.join(""))},decompress:function(r){for(var e,a,o,h,t,s,n,C=[],c=1,i=r.charCodeAt(0)>>8;c<2*r.length&&(c<2*r.length-1||0==i);)c%2==0?(e=r.charCodeAt(c/2)>>8,a=255&r.charCodeAt(c/2),o=c/2+1<r.length?r.charCodeAt(c/2+1)>>8:NaN):(e=255&r.charCodeAt((c-1)/2),(c+1)/2<r.length?(a=r.charCodeAt((c+1)/2)>>8,o=255&r.charCodeAt((c+1)/2)):a=o=NaN),c+=3,h=e>>2,t=(3&e)<<4|a>>4,s=(15&a)<<2|o>>6,n=63&o,isNaN(a)||c==2*r.length+1&&i?s=n=64:(isNaN(o)||c==2*r.length&&i)&&(n=64),C.push(f.charAt(h)),C.push(f.charAt(t)),C.push(f.charAt(s)),C.push(f.charAt(n));return C.join("")},compress:function(r){var e,a,o,h,t,s,n,C=[],c=1,i=0,u=!1;for(r=r.replace(/[^A-Za-z0-9\+\/\=]/g,"");i<r.length;)a=f.indexOf(r.charAt(i++))<<2|(t=f.indexOf(r.charAt(i++)))>>4,o=(15&t)<<4|(s=f.indexOf(r.charAt(i++)))>>2,h=(3&s)<<6|(n=f.indexOf(r.charAt(i++))),c%2==0?(e=a<<8,u=!0,64!=s&&(C.push(String.fromCharCode(e|o)),u=!1),64!=n&&(e=h<<8,u=!0)):(C.push(String.fromCharCode(e|a)),u=!1,64!=s&&(e=o<<8,u=!0),64!=n&&(C.push(String.fromCharCode(e|h)),u=!1)),c+=3;return C=u?(C.push(String.fromCharCode(e)),d("output"),C=C.join(""),d("output"),String.fromCharCode(256|C.charCodeAt(0))+C.substring(1)):(d("output"),C.join(""))}}});
